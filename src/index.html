<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>MyTask</title>
  <base href="/">
  <script>
    (function () {
      window['_UserName'] = "@HttpContext.Current.User.Identity.Name";

      window['rootPath'] = 'http://197.156.93.110/XOKA.eoffice.bpel_land/api/';
      // window['local_GIS_server'] = 'http://localhost/geojson';
      window['local_GIS_server'] = './assets/geojson';
      // window['wfs_geoserver'] = 'http://192.168.0.150:8080/geoserver/ows';
      // window['wfs_geoserver'] = 'http://localhost:8082/geoserver/ows';
      window['wfs_geoserver'] = 'http://192.168.0.133:8082/geoserver/ows';
      //console.log("window['_UserName']", window['_UserName']);
      //console.log(window.location.pathname);
      window['PaymentReportPath'] = 'http://192.168.0.150/xokaswcms/en-us/payment';
      window['certReportPath'] = '/certificate';
      window['LetterReportPath'] = '/Letter';
      window['lang'] = (window.location.pathname.split('/')[1] ?? 'en-us').toLowerCase();
      window['resourcePath'] = "DesktopModules/MVC/xokamytasks/Views/Item/assets/";
      window['phisicalPath'] = '/DesktopModules/MVC/XOKA_Application_App/Views/Item/assets/assets/i18n/';
      window['overlayLayer'] = "Ethiopia - Admin Level 3.json";
      window['layerConfig'] = [ 
        {
          'name': "Ethiopia - Admin Level 1.json",
          'weight': 5
        }
      ];

      if (window.location.pathname !== '/')
        if (
          window.location.pathname.split('/')[1] !== 'task' &&
          window.location.pathname.split('/')[1] !== 'service' &&
          window.location.pathname.split('/')[1] !== 'services') {
          //console.log(window.location.pathname.split('/')[1]);
          let urlSegment = window.location.pathname.split('/');
          let langPrefix = urlSegment[1].toLowerCase()
          if (
            urlSegment[1] != 'MAP-GIS' &&
            urlSegment[2] != 'MAP-GIS'
          ) {
            window['_app_base'] = `/${urlSegment[1]}${langPrefix == 'am-et' || langPrefix == 'en-us' ? '/' + urlSegment[2] : ''}`;
          }
          else {
            window['_app_base'] = `${langPrefix == 'am-et' || langPrefix == 'en-us' ? '/' + urlSegment[1] : '/'}`;
          }

          //console.log('/' + window.location.pathname.split('/')[1] + '/' + window.location.pathname.split('/')[2]);
        }

      //if it is still not working comment all the above code, and un comment the below code.
      // window['_app_base'] ='xokaswcms/my-tasks';
    })();
  </script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" 
          rel="stylesheet" >
          <!-- integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> -->
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" ></script>
     <!-- integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"> -->
   
</head>

<body>
  <app-root></app-root>
</body>

</html>
